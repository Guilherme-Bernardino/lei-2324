## Object-Oriented Programming 2022/2023

## Lab Sheet <mark>#8</mark>

## Objectives

- Use of collections and generics
- Use of unit tests

## Program

We intend to develop a prototype to facilitate organizing, sorting and listing tasks. We will create the `Task` and `ListOfElements` classes and also the `Orderable` interface.
We want `ListOfElements` to have a generic implementation, so that it can be used to manage other objects that implement `Orderable`.

For example, if you create a `Bill` class that implements `Orderable`, you can use the generic `ListOfElements` class to manage the various bill payments.

## Implementation rules

- Accept assignment from GitHub Classroom [**here**](https://classroom.github.com/a/VkqN-qbc)
- Clone the repository generated by GitHub Classroom
- Use the BlueJ IDE.
- Implement the required code and test at the end of each level.
- **Update the program version in the repository at the minimum at the end of each level** (it is advised at the end of each successfully implemented and tested feature). It is not necessary to include the compiled files (.class extension) in the version.
- Use the coding conventions adopted for the Java language (see **Notes**).

## Implementation

### Level 1:

1. Create the `Orderable` interface and copy to this interface the definition of the following methods:

```java
    int getPriority();
    LocalDate getDate();
```

2. Create the `Task` class that implements the `Orderable` interface. Add the following attributes to the `Task` class:
   
   - `description` - `String` for the description of the task.
   - `priority` - Integer for the priority.
   - `date` - `LocalDate` for the date the task must be done.

3. Create a constructor that receives, by parameters, values for all attributes.

4. Implement the modifier and selector methods you think you need.

5. Create the test class `TaskTest` for the `Task` class.

6. Create the test method `testConstructor` that tests the constructor. This test method should create a task object as a Fixture and verify that the object is initialized correctly.

### Level 2

1. implement, in the `Task` class, a `getHeader()` class method that returns a `String` with the following content:

```java
  "\n |--------------------------------------------------------|"
+ "\n | Priority | Task name | Due date |"
+ "\n |----------|--------------------------------|------------|"
```

2. Implement the `toString` method. Use the `format` method of the `String` class to align the attribute values with the given header.

3. In the `Task` class, implement the `equals` and `hashCode` methods. Two tasks are considered equal if they have the same date and the same description.

4. Create a test method `testEquals`. This method should create an object of the `Task` class, with the same date and description as the task already instantiated in Fixture, to validate that the return from the equals method is correct.

### Level 3

You want to build the main class of the solution. The main requirement of the class is to accept only elements that inherit from the `Orderable` interface.

1. implement the class `ListOfElements` which takes a generic element that implements the `Orderable` interface and extends the class `ArrayList` from the generic element.

2. Add the following public constant to the class:
   
   - `HEADER` - `String` that represents the header to include before listing the list elements.

3. Add a constructor to the class that takes the value of the `HEADER` constant as a parameter.

4. Create a new test class `ListOfElementsTest` and define a Fixture with a `ListOfElements` object and the following 4 tasks:

```java
Task t1 = new Task("Study for POO MT3", 3, LocalDate.of(2023,6,20));
Task t2 = new Task("Do POO project phase 2", 2, LocalDate.of(2023,6,24));
Task t3 = new Task("Do POO project phase 1", 1, LocalDate.of(2023,5,29));
Task t4 = new Task("Study for POO test", 2, LocalDate.of(2023,6,4));
```

5. Add the test method `testAdd` to the test class. This method should add the 4 tasks from Fixture to the list and verify that they have been added.

### Level 4

You want to perform sorting of the collection by priority.

1. implement the `Comparable<Task>` interface in the `Task` class.

2. In the `TaskTest` class, create a `testCompareTo` test method. This method should check that the comparison is correctly implemented.

3. Implement in the `ListOfElements` class the `sort` method to sort all elements of the collection in ascending order by priority. TIP: use `Collections.sort`.

4. Implement the `toString` method, which returns the header followed by the elements in the collection, one element per line.

5. Implement the `showSortedByNaturalOrder` method which sorts the collection, displays the header, and displays all the elements in the collection, one element per row:

```java
 |--------------------------------------------------------|
 | Priority | Task name | Due date |
 |----------|--------------------------------|------------|
 01 | Do POO project phase 1 | 2023-05-29 | 2023-05-29 |
 | 02 | Do POO project phase 2 | 2023-06-24 |
 02 | Study for POO test | 2023-06-04 | 2023-06-04 |
 03 | Study for POO MT3 | 2023-06-20 | 2023-06-20 |
```

### Level 5

You now want to sort the collection by priority and in case of equal priorities, by date.

1. implement the class `OrderableComparator` that implements the `Comparator<Orderable>` interface.

2. Implement the `compare` method to sort in ascending order by priority and in case of equal priorities, by date.

3. Implement in the `ListOfElements` class the `sortByOrderableComparator` method which uses the `OrderableComparator` to sort the collection. TIP: use `Collections.sort`.

4. Implement the `showSortedByOrderableComparator` method which sorts the collection, displays the header, and displays all elements in the collection, one element per row:

```java
 |--------------------------------------------------------|
 | Priority | Task name | Due date |
 |----------|--------------------------------|------------|
 | 01 | Do POO project phase 1 | 2023-05-29 |
 | 02 | Study for POO test | 2023-06-04 |
 | 02 | Do POO project phase 2 | 2023-06-24 |
 03 | Study for POO MT3 | 2023-06-20 | 2023-06-20 |
```

**Notes:

For identifiers follow commonly adopted conventions, in particular:

1. The **camelCase** notation for local variable names and identifiers for attributes and methods.
2. The **PascalCase** notation for class names.
3. Do not use the '_' symbol or abbreviations for identifiers.